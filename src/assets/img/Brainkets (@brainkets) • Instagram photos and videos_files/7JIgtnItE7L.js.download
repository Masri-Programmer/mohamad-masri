;/*FB_PKG_DELIM*/

__d("PolarisFeedRoot.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{}}},root:c("JSResourceForInteraction")("PolarisFeedRoot.react").__setRef("PolarisFeedRoot.entrypoint")};g["default"]=a}),98);
__d("PolarisFeedPageContainerDeferred",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedPageContainer.react").__setRef("PolarisFeedPageContainerDeferred"));b=a;g["default"]=b}),98);
__d("usePolarisInitFeedPage",["PolarisFeedActionInitFeed","PolarisReactRedux","react","usePolarisQueryPreloaderID","usePolarisQueryStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(a){var b=i(5),e=d("PolarisReactRedux").useDispatch(),f=c("usePolarisQueryStore")(),g=c("usePolarisQueryPreloaderID")(a),h;b[0]!==e||b[1]!==a||b[2]!==g||b[3]!==f?(h=function(){e(d("PolarisFeedActionInitFeed").initFeed({preloadedFeedQuery:a,preloadedFeedQueryId:g,queryStore:f}))},b[0]=e,b[1]=a,b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("PolarisFeedActionInitFeedVariant",["PolarisDsaQEHelpers","PolarisFeedActionBuildFeedPageLoadedActionV2","PolarisFeedActionFetchFeedDataFromNative","PolarisInstajax","PolarisMonitorErrors","PolarisStoryAPIActions","Promise","asyncToGeneratorRuntime","polarisFeedReducer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c,e){e=e();var f,g,i=e.feed.currentFeed,j=d("polarisFeedReducer").getFeedContent(e.feed),k=j.isLoadingPosts;j=j.paginationInfo;k||(c({type:"FEED_LOADING"}),f=d("PolarisFeedActionFetchFeedDataFromNative").fetchFeedDataFromNative({cursor:j==null?void 0:j.cursor,feedViewInfo:a,paginationSource:j==null?void 0:j.paginationSource}).then(function(a){return c(d("PolarisFeedActionBuildFeedPageLoadedActionV2").buildFeedPageLoadedActionV2(c,a,i))}));!e.stories.isLoading&&(i==="home"||i==="following")&&d("PolarisDsaQEHelpers").isDsaFeed()&&(g=d("PolarisStoryAPIActions").loadStoryTray(c,void 0,i).then(function(a){c(a)}));return(h||(h=b("Promise"))).all([f,g])["catch"](function(a){a instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(a)})});return function(a,b){return c.apply(this,arguments)}}()}g.initFeedVariant=a}),98);
__d("usePolarisInitFeedVariantPage",["PolarisFeedActionInitFeedVariant","PolarisFeedLastHeadLoadContext","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(){var a=i(3),b=d("PolarisReactRedux").useDispatch(),c=d("PolarisFeedLastHeadLoadContext").useSetLastHeadLoadMs(),e;a[0]!==b||a[1]!==c?(e=function(){b(d("PolarisFeedActionInitFeedVariant").initFeedVariant()),c(Date.now())},a[0]=b,a[1]=c,a[2]=e):e=a[2];return e}g["default"]=a}),98);
__d("PolarisFeedRoot.react",["CometPlaceholder.react","PolarisConditionalPageLayoutHandler.react","PolarisFeedActionScrolledToTop","PolarisFeedPageContainerDeferred","PolarisFeedState","PolarisNavigationActions","PolarisReactRedux","polarisFeedSelectors","react","usePolarisCreationDialog.react","usePolarisCurrentFeedVariant","usePolarisDisplayProperties","usePolarisInitFeedPage","usePolarisInitFeedVariantPage","usePolarisPreloadedPostQuery","usePolarisRefreshFeedData","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.unstable_useMemoCache;function a(a){var b=l(32);a=a.props;var e=a.routeParams;a=a.routeProps;var f=e.create_live,g=e.create_post;e=a.polaris_preload;a=e.feed;var h=e.story_tray;e=e.suggested_user_list;var m=c("usePolarisCurrentFeedVariant")(),n=d("PolarisReactRedux").useSelector(d("polarisFeedSelectors").getFeedContent),o=n.currentState;n=n.isLoadingPosts;var p=c("useRoutePassthroughProps")(),q=k(!1),r=d("PolarisReactRedux").useDispatch(),s;b[0]!==o||b[1]!==n?(s=o===d("PolarisFeedState").FEED_STATE_NETWORK||n,b[0]=o,b[1]=n,b[2]=s):s=b[2];var t=s,u=c("usePolarisInitFeedPage")(a);o=c("usePolarisPreloadedPostQuery")(e);var v=c("usePolarisInitFeedVariantPage")(),w=c("usePolarisRefreshFeedData")();b[3]!==m?(n=function(a){return a.feed.content[m].items},b[3]=m,b[4]=n):n=b[4];var x=d("PolarisReactRedux").useSelector(n);s=c("usePolarisDisplayProperties")();a=s.viewportWidth;e=c("usePolarisCreationDialog.react")();var y=e[0];b[5]!==m||b[6]!==t||b[7]!==u||b[8]!==x||b[9]!==v?(n=function(){(m==="home"||m==="past_posts")&&q.current===!1&&!t?(u(),q.current=!0):m!=="home"&&!t&&(!x||x.size===0)&&v()},s=[m,u,v,t,x],b[5]=m,b[6]=t,b[7]=u,b[8]=x,b[9]=v,b[10]=n,b[11]=s):(n=b[10],s=b[11]);j(n,s);b[12]!==p||b[13]!==r||b[14]!==w?(e=function(){(p==null?void 0:p.refreshFeed)===!0&&(window.scrollTo(0,0),r(d("PolarisFeedActionScrolledToTop").scrolledToTop()),w())},b[12]=p,b[13]=r,b[14]=w,b[15]=e):e=b[15];b[16]!==p?(n=p==null?void 0:p.refreshFeed,b[16]=p,b[17]=n):n=b[17];b[18]!==r||b[19]!==n||b[20]!==w?(s=[r,n,w],b[18]=r,b[19]=n,b[20]=w,b[21]=s):s=b[21];j(e,s);b[22]!==g||b[23]!==y||b[24]!==f||b[25]!==r?(n=function(){g===!0?y({}):f===!0&&r(d("PolarisNavigationActions").openLiveCreationModal())},e=[r,g,f,y],b[22]=g,b[23]=y,b[24]=f,b[25]=r,b[26]=n,b[27]=e):(n=b[26],e=b[27]);j(n,e);b[28]!==h||b[29]!==o||b[30]!==a?(s=i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("PolarisFeedPageContainerDeferred"),{storyTrayPolarisPreloadedQuery:h,suggestedUserListQueryRef:o,viewportWidth:a})})}),b[28]=h,b[29]=o,b[30]=a,b[31]=s):s=b[31];return s}g["default"]=a}),98);
__d("PolarisNotificationsScreenDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisNotificationsScreen.react").__setRef("PolarisNotificationsScreenDeferred.react"));g["default"]=a}),98);